# ğŸ” MCRIS - æ™ºèƒ½äº•ç›–é£é™©è¯†åˆ«ç³»ç»Ÿ

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![YOLOv11](https://img.shields.io/badge/YOLOv11-Latest-green.svg)
![Accuracy](https://img.shields.io/badge/Accuracy-91.6%25-brightgreen.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

*åŸºäºæ·±åº¦å­¦ä¹ çš„åŸå¸‚åŸºç¡€è®¾æ–½å®‰å…¨ç›‘æµ‹è§£å†³æ–¹æ¡ˆ*

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

MCRISï¼ˆManhole Cover Risk Identification Systemï¼‰æ˜¯ä¸€ä¸ªåŸºäºYOLOv11æ·±åº¦å­¦ä¹ æ¡†æ¶å¼€å‘çš„æ™ºèƒ½äº•ç›–é£é™©è¯†åˆ«ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿè‡´åŠ›äºé€šè¿‡è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œè‡ªåŠ¨è¯†åˆ«å’Œåˆ†ç±»åŸå¸‚é“è·¯ä¸­äº•ç›–çš„å®‰å…¨çŠ¶æ€ï¼Œä¸ºåŸå¸‚åŸºç¡€è®¾æ–½å®‰å…¨ç®¡ç†æä¾›æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **é«˜ç²¾åº¦è¯†åˆ«**ï¼šåŸºäºYOLOv11æ¶æ„ï¼Œæ¨¡å‹ç²¾åº¦è¾¾åˆ°91.6%
- **å¤šçŠ¶æ€åˆ†ç±»**ï¼šæ”¯æŒ5ç§äº•ç›–çŠ¶æ€è¯†åˆ«ï¼ˆå®Œå¥½ã€ç ´æŸã€ç¼ºå¤±ã€æœªè¦†ç›–ã€äº•åœˆé—®é¢˜ï¼‰
- **å®æ—¶æ£€æµ‹**ï¼šæ”¯æŒå›¾åƒå®æ—¶ä¸Šä¼ å’Œå¤„ç†
- **å¯è§†åŒ–ç•Œé¢**ï¼šåŸºäºGradioæ„å»ºçš„å‹å¥½Webç•Œé¢
- **è½»é‡åŒ–éƒ¨ç½²**ï¼šæ”¯æŒå¤šç§æ¨¡å‹æ ¼å¼å¯¼å‡ºï¼Œä¾¿äºéƒ¨ç½²

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
MCRIS/
â”œâ”€â”€ ğŸ“ datasets/          # æ•°æ®é›†ç›®å½•
â”‚   â””â”€â”€ data/            # è®­ç»ƒæ•°æ®
â”‚       â”œâ”€â”€ train/       # è®­ç»ƒé›†
â”‚       â”œâ”€â”€ valid/       # éªŒè¯é›†
â”‚       â”œâ”€â”€ test/        # æµ‹è¯•é›†
â”‚       â””â”€â”€ data.yaml    # æ•°æ®é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ model/            # é¢„è®­ç»ƒæ¨¡å‹
â”œâ”€â”€ ğŸ“ runs/             # è®­ç»ƒç»“æœ
â”‚   â””â”€â”€ 91.6%ç‰ˆæœ¬/       # æœ€ä½³æ¨¡å‹ç‰ˆæœ¬
â”œâ”€â”€ ğŸ“ results/          # æ£€æµ‹ç»“æœ
â”œâ”€â”€ ğŸ“ uploads/          # ä¸Šä¼ æ–‡ä»¶
â”œâ”€â”€ ğŸ main.py           # ä¸»ç¨‹åºï¼ˆWebç•Œé¢ï¼‰
â”œâ”€â”€ ğŸ train.py          # æ¨¡å‹è®­ç»ƒ
â”œâ”€â”€ ğŸ test.py           # æ¨¡å‹æµ‹è¯•
â”œâ”€â”€ ğŸ export.py         # æ¨¡å‹å¯¼å‡º
â””â”€â”€ ğŸ“„ best.pt           # æœ€ä½³è®­ç»ƒæƒé‡
```

## ğŸ”¬ æ•°æ®é›†è¯¦æƒ…

### æ•°æ®æ¥æº
æœ¬é¡¹ç›®æ•°æ®é›†æ¥æºäºå›¢é˜Ÿå®åœ°è°ƒç ”ï¼Œæ¶µç›–ï¼š
- **åŒ—äº¬æ—ä¸šå¤§å­¦æ ¡å›­**ï¼šè¦†ç›–ä¸»è¦é“è·¯å’Œäººè¡Œé“
- **åŠå¯¼ä½“æ‰€åŠå®¶å±åŒº**ï¼šåŒ…å«ä¸åŒç±»å‹çš„äº•ç›–è®¾æ–½
- **æ€»è®¡æ ·æœ¬**ï¼šçº¦1700ä½™å¼ é«˜è´¨é‡äº•ç›–å›¾åƒ

### æ ‡æ³¨ç±»åˆ«
ç³»ç»Ÿæ”¯æŒè¯†åˆ«ä»¥ä¸‹5ç§äº•ç›–çŠ¶æ€ï¼š

| ç±»åˆ« | è‹±æ–‡æ ‡è¯† | æè¿° | é£é™©ç­‰çº§ |
|------|----------|------|----------|
| å®Œå¥½ | `good` | äº•ç›–å®Œæ•´æ— æŸï¼Œä½ç½®æ­£ç¡® | ğŸŸ¢ å®‰å…¨ |
| ç ´æŸ | `broke` | äº•ç›–æœ‰è£‚çº¹ã€ç¼ºè§’ç­‰æŸå | ğŸŸ¡ ä¸­ç­‰é£é™© |
| ç¼ºå¤± | `lose` | äº•ç›–å®Œå…¨ä¸¢å¤± | ğŸ”´ é«˜é£é™© |
| æœªè¦†ç›– | `uncovered` | äº•å£æœªè¢«äº•ç›–è¦†ç›– | ğŸ”´ é«˜é£é™© |
| äº•åœˆé—®é¢˜ | `circle` | åœ†å½¢äº•ç›–ï¼ˆç‰¹æ®Šæ ‡è¯†ï¼‰ | ğŸŸ¢ æ­£å¸¸ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

```bash
Python >= 3.8
CUDA >= 11.0 (å¯é€‰ï¼Œç”¨äºGPUåŠ é€Ÿ)
```

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/MCRIS.git
cd MCRIS

# å®‰è£…ä¾èµ–åŒ…
pip install ultralytics
pip install gradio
pip install opencv-python
pip install numpy
```

### è¿è¡Œç³»ç»Ÿ

#### 1. Webç•Œé¢æ¨¡å¼
```bash
python main.py
```
è®¿é—® `http://localhost:9999` ä½¿ç”¨Webç•Œé¢è¿›è¡Œå›¾åƒæ£€æµ‹
![image](https://github.com/user-attachments/assets/c208c282-09e3-416a-bd91-30d5f8000e7c)

#### 2. å‘½ä»¤è¡Œæµ‹è¯•
```bash
python test.py --cfg yolov8n.pt
```

#### 3. æ¨¡å‹è®­ç»ƒ
```bash
python train.py
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ¨¡å‹æ€§èƒ½
- **æ•´ä½“ç²¾åº¦**ï¼š91.6%
- **è®­ç»ƒè½®æ•°**ï¼š150 epochs
- **æ‰¹å¤„ç†å¤§å°**ï¼š16
- **è¾“å…¥å›¾åƒå°ºå¯¸**ï¼š640Ã—640

### å„ç±»åˆ«æ€§èƒ½
è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡å¯åœ¨ `runs/91.6%ç‰ˆæœ¬/results.csv` ä¸­æŸ¥çœ‹ï¼ŒåŒ…æ‹¬ï¼š
- Precisionï¼ˆç²¾ç¡®ç‡ï¼‰
- Recallï¼ˆå¬å›ç‡ï¼‰
- F1-Score
- mAP@0.5
- mAP@0.5:0.95

## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### Webç•Œé¢ä½¿ç”¨
1. å¯åŠ¨ç³»ç»Ÿï¼š`python main.py`
2. æ‰“å¼€æµè§ˆå™¨è®¿é—®æŒ‡å®šåœ°å€
3. ä¸Šä¼ å¾…æ£€æµ‹çš„äº•ç›–å›¾åƒ
4. æŸ¥çœ‹æ£€æµ‹ç»“æœå’Œé£é™©è¯„ä¼°

### APIè°ƒç”¨ç¤ºä¾‹
```python
from ultralytics import YOLO

# åŠ è½½æ¨¡å‹
model = YOLO('best.pt')

# è¿›è¡Œé¢„æµ‹
results = model('path/to/your/image.jpg')

# å¤„ç†ç»“æœ
for result in results:
    boxes = result.boxes
    for box in boxes:
        class_name = model.names[int(box.cls[0])]
        confidence = box.conf[0]
        print(f"æ£€æµ‹åˆ°: {class_name}, ç½®ä¿¡åº¦: {confidence:.2f}")
```

## ğŸ”§ æ¨¡å‹å¯¼å‡º

æ”¯æŒå¤šç§æ ¼å¼å¯¼å‡ºä»¥é€‚åº”ä¸åŒéƒ¨ç½²éœ€æ±‚ï¼š

```bash
# å¯¼å‡ºä¸ºONNXæ ¼å¼
python export.py

# æ”¯æŒçš„æ ¼å¼
# - ONNX
# - TorchScript
# - TensorRT
# - CoreML
```

## ğŸ“ˆ è®­ç»ƒè‡ªå®šä¹‰æ¨¡å‹

### æ•°æ®å‡†å¤‡
1. æŒ‰ç…§YOLOæ ¼å¼ç»„ç»‡æ•°æ®é›†
2. ä¿®æ”¹ `datasets/data/data.yaml` é…ç½®æ–‡ä»¶
3. ç¡®ä¿æ ‡æ³¨æ–‡ä»¶æ ¼å¼æ­£ç¡®

### è®­ç»ƒé…ç½®
åœ¨ `train.py` ä¸­è°ƒæ•´è®­ç»ƒå‚æ•°ï¼š
- `epochs`: è®­ç»ƒè½®æ•°
- `batch`: æ‰¹å¤„ç†å¤§å°
- `imgsz`: è¾“å…¥å›¾åƒå°ºå¯¸
- `workers`: æ•°æ®åŠ è½½çº¿ç¨‹æ•°

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Ultralytics](https://github.com/ultralytics/ultralytics) - YOLOv11æ¡†æ¶
- [Gradio](https://gradio.app/) - Webç•Œé¢æ¡†æ¶
- åŒ—äº¬æ—ä¸šå¤§å­¦ - æ•°æ®é‡‡é›†æ”¯æŒ
- åŠå¯¼ä½“æ‰€ - å®åœ°è°ƒç ”ååŠ©

## ğŸ“ è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ Email: GCameras77@Gmail.com/798957950@qq.com
- ğŸ› Issues: [GitHub Issues](https://github.com/your-username/MCRIS/issues)
- ğŸ“– Wiki: [é¡¹ç›®æ–‡æ¡£](https://github.com/your-username/MCRIS/wiki)

---

<div align="center">

**è®©åŸå¸‚æ›´å®‰å…¨ï¼Œè®©ç”Ÿæ´»æ›´ç¾å¥½** ğŸŒŸ

*MCRIS - æ™ºèƒ½å®ˆæŠ¤æ¯ä¸€ä¸ªäº•ç›–*

</div>
